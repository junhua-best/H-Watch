# H-Watch
基于stm32L4系列的的低功耗智能手表
   智能手表是当前智能穿戴设备的主流产品之一。将手表内置智能化系统，连接于网络而实现多功能，可同步手机中的电话、短信、邮件、照片、音乐等。同时，智能手表还成为了运动的助手，可准确追踪走路的步数和消耗的能量；还可以通过内嵌的传感器，监测穿戴者的脉搏、心跳等身体状况的变化。近年来，智能手表热潮的掀起使得这一市场不断壮大，也有越来越多科技厂商投身其中。
	针对市面上的智能手表价格偏高，且普遍功耗表现差等特点，本文介绍了一种基于STM32l431系列的超低功耗微控制器的低成本智能手表“H-Watch”，从硬件到软件上的开发全过程。
	本文首先介绍了H-Watch的硬件相关的设置，搭载STM32L431CCU6的低功耗微控制器、低功耗蓝牙芯片、陀螺仪、温湿度传感器、磁力计、触摸按钮、振动马达、LCD屏幕等硬件外设，本文前期阐述了这些硬件在H-Watch中起到的作用。而在显示方面，H-Watch移植了业界常用的LVGL图形库，H-Watch拥有多个精美的界面，并具有流畅的动画效果，本文将在软件上仿真的效果以及实际手表的显示效果以图片的形式呈现。在操作系统方面，为了系统性能最大化、多个模块互相不耦合等特点，H-Watch使用FREERTOS实时操作系统，在H-Watch的研发过程中，软件系统设计被视作最为重要的一部分，本文着重阐述了各个功能模块的软件设计。
  本文将H-Watch的显示根据功能拆分设计为七个页面：主界面、关于、设置、备忘录、秒表、亮度设置、菜单。在软件系统层面拆分成六个主任务：蓝牙通信、时间更新、传感器数据更新、睡眠检测、按键更新、LVGL更新。H-Watch最终具有的功能包括：秒表、时间设置、亮度控制、时间日期显示、天气显示、温湿度值显示、电量值显示、步数记录、备忘录等。在续航方面，能够做到一次充电后，可以正常使用两个月的时间。
